{% extends layout %}

{% load i18n %}

{% block title %}{% translate "Login" %}{% endblock %}

{% block content %}
<style>
    .page-loader {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        align-items: center;
        justify-content: center;
        z-index: 9999;
    }

    .page-loader.show {
        display: flex;
    }
</style>

<!--begin::Form-->
<form class="form w-100" novalidate="novalidate" id="kt_sign_in_form" method="post" action="{% url 'auth:signin' %} ">
    {% csrf_token %}
    <!--begin::Heading-->
    <div class="text-center mb-11">
        <!--begin::Title-->
        <h1 class="text-gray-900 fw-bolder mb-3">
            Inicio De Sesión
        </h1>
        <!--end::Title-->

        <!--begin::Subtitle-->
        <div class="text-gray-500 fw-semibold fs-6">
            Instancias Personalizadas
        </div>
        <!--end::Subtitle--->
    </div>
    <!--begin::Heading-->

    <!--begin::Input group--->
    <div class="fv-row mb-8">
        <!--begin::Usuario-->
        <input type="text" placeholder="Usuario" name="usuario" autocomplete="off" class="form-control bg-transparent"/> 
        <!--end::Usuario-->
    </div>

    <!--end::Input group--->
    <div class="fv-row mb-3">    
        <!--begin::Contraseña-->
        <input type="password" placeholder="Contraseña" name="contraseña" autocomplete="off" class="form-control bg-transparent"/>
        <!--end::Contraseña-->
    </div>
    <!--end::Input group--->

    <!--begin::Wrapper-->
    <div class="d-flex flex-stack flex-wrap gap-3 fs-base fw-semibold mb-8">
        <div></div>

        <!--begin::Link-->
        
        <!--end::Link-->
    </div>
    <!--end::Wrapper-->    

    <!--begin::Submit button-->
    <div class="d-grid mb-10">
        <button type="submit" id="kt_sign_in_submit" class="btn btn fw-bold" style="background-color: #052F72; border-color: #052F72; color: #fff;">
            {% include 'partials/general/_button-indicator.html' with label='Iniciar' %}
        </button>
    </div>
    <script>
        // Deshabilitar el botón de retroceso del navegador
        history.pushState(null, null, document.URL);
        window.addEventListener('popstate', function () {
            history.pushState(null, null, document.URL);
        });
    </script>
    
    <!--end::Submit button-->

</form>
<!--end::Form--> 
<div id="kt_page_loading_overlay" class="page-loader flex-column bg-dark bg-opacity-25" style="display: none;">
	<span class="spinner-border text-primary" role="status"></span>
	<span class="text-gray-800 fs-6 fw-semibold mt-5">cargando...</span>
</div>
{% endblock content %}